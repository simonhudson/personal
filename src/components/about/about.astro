---
import { parseToHtml } from '@/src/utilities/parse-to-html';
import styles from './about.module.css';
import { links } from './links';
import Icon from '@/src/components/icon/icon.astro';

const { data } = Astro.props;
---
<section id="about">
	<div class="inner-wrap">
		<div class={styles.wrap}>
			<div class={styles.content}>
				<img
					class={styles.image}
					alt="Simon Hudson"
					src="/images/self.png"
					width="200"
					height="200"
				/>
				<div>
					<h2>About me</h2>
					<div set:html={parseToHtml(data.copy)} />
					{links && (
						<ul class={styles['link-list']}>
							{links.map((item) => {
								return item.omit ? null : (
									<li>
										<a
											class="cta-link"
											href={item.link}
											target="_blank"
											rel="noopener noreferer"
										>
											<span>{item.text}</span>
											<span class="sr-only">&nbsp;(opens in a new tab)</span>
											<Icon type={item.icon.type} name={item.icon.name} />
										</a>
									</li>
								);
							})}
						</ul>
					)}
				</div>
			</div>
		</div>
	</div>
</section>